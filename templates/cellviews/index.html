{% extends "layouts/base.html" %}
{% load static %}

<script src="{% static 'dash/your_script.js' %}"></script>  <!-- Load your specific script -->
</head>

{% block content %}

<main>
  <div class="px-4 pt-6">
      <!-- Upload data widget -->
      <div
        class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800">
        <div class="items-center justify-between pb-4 border-b border-gray-200 sm:flex dark:border-gray-700">
          <div class="w-full mb-4 sm:mb-0">
            <h3 class="text-base font-normal text-gray-500 dark:text-gray-400">
              ApexCharts Sample
            </h3>
{#            <input type="file" id="inputData" name="inputData" hx-post="" hx-swap="outerHTML"#}
{#                    class="text-2xl font-bold leading-none text-gray-900 sm:text-3xl dark:text-white"#}
{#              >Upload data set>#}
              
            <form id='form' hx-encoding='multipart/form-data' hx-post='/input_data' hx-target="#data-summary"
                    hx-on="htmx:afterOnLoad: handleBeforeSwap(event)">
              <input type='file' id="inputData" name="inputData">
              <button>
                Upload
              </button>
{#              <progress id='progress' value='0' max='100'></progress>#}
            </form>

              <script>

                  function handleBeforeSwap(event) {
                      console.log("hi");
                      Plotly.purge("histogram0");
                      Plotly.purge("histogram1");
                  }

              </script>
          </div>
        </div>
          
    </div>
      
      <br>
      
      <!-- Summary uploaded data widget -->
      <div id="data-summary"></div>     
      {%load plotly_dash%}
      
  </div>
</main>

{% endblock content %}